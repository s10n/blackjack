(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports={button:"Button_button__3pS3v"}},12:function(e,n,t){e.exports=t(22)},17:function(e,n,t){},22:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(8),o=t.n(c),i=(t(17),t(4)),l=t(1),u=t(2),s=t(5),d=["A","2","3","4","5","6","7","8","9","10","J","Q","K"].reduce(function(e,n){return Object(l.a)(e).concat(Object(l.a)(Array.from({length:4},function(e){return n})))},[]),f=function(){return function(e){for(var n,t,a=e.length;a;)t=Math.floor(Math.random()*a--),n=e[a],e[a]=e[t],e[t]=n;return e}(d)},h=function(e){return Number(e)||"A"===e&&1||10},b=function(e){var n=e.reduce(function(e,n){return e+h(n)},0);return e.includes("A")&&n+10<=21?[n,n+10]:[n]},m=function(e){return 2===e.length&&b(e).some(function(e){return 21===e})},y=function(e){var n=b(e).every(function(e){return e>21});return m(e)?"blackjack":n?"bust":""},v=function(e){var n=e.player,t=e.dealer,a=2,r=1,c=0,o=b(n.hand),i=y(n.hand),u=b(t.hand),s=y(t.hand),d={blackjack:("A"!==t.hand[0]||2===t.hand.length&&"blackjack"!==s)&&1.5,bust:c},f={blackjack:c,bust:a};return Number.isFinite(d[i])?d[i]:Number.isFinite(f[s])?f[s]:"stay"===t.state?function(){var e=Math.max.apply(Math,Object(l.a)(o)),n=Math.max.apply(Math,Object(l.a)(u));return e>n?a:n<e?r:c}():"surrender"===n.state?.5:NaN},k=b,p=y,j=v,g=function(e){var n=e.hand,t=e.state;return!y(n)&&!t},O=function(e){var n=e.hand,t=e.state;return 2===n.length&&!t},E=function(e){var n=e.hand;return m(n)},_=function(e){var n=e.players;return 2===n[0].hand.length&&n[0].hand[0]===n[0].hand[1]&&!n[0].state&&1===n.length},w=function(e){var n=e.dealer;return e.players.every(function(e){return"stay"===e.state})&&b(n.hand).every(function(e){return e<=16})&&"stay"!==n.state},C=function(e){var n=e.dealer,t=e.players;return b(n.hand).some(function(e){return e>=17})||t.every(function(e){return Number.isFinite(v({player:e,dealer:n}))})},N=t(6),x=t.n(N),S=t(9),M=t.n(S),A=function(e){var n=e.back,t=e.children,a=e.style,c=void 0===a?{}:a,o=e.onClick;return r.a.createElement("div",{className:M()(x.a.card,n&&x.a.back),style:c,onClick:o},t)},B=function(e){var n=e.deck;return e.hidden?null:r.a.createElement("ul",{style:{display:"flex",alignItems:"flex-end"}},n.map(function(e,n){return r.a.createElement("div",{style:{padding:1},key:n},r.a.createElement("div",{style:{height:5*h(e),backgroundColor:"silver"}}),r.a.createElement(A,null,e))}))},D=t(3),F=t.n(D),H=t(11),J=t(10),R=t.n(J),U=function(e){var n=e.color,t=e.children,a=Object(H.a)(e,["color","children"]);return r.a.createElement("button",Object.assign({className:R.a.button,style:{backgroundColor:a.disabled?"silver":n}},a),t)},G=function(e){var n=e.actions;return r.a.createElement("section",null,n.map(function(e,n){return e&&r.a.createElement(U,Object.assign({},e,{key:n}))}))},I=function(e){var n=e.hand,t=e.draw,a=e.actions,c=e.isDealer,o=e.gameResult;return r.a.createElement("div",{className:F.a.container},r.a.createElement("p",{style:{order:c&&2}},p(n)),r.a.createElement("section",{className:F.a.totals,style:{order:c&&1}},k(n).join(", ")),r.a.createElement("ul",{className:F.a.deck},n.map(function(e,n){return r.a.createElement(A,{key:n},e)}),t&&r.a.createElement(A,{back:!0,onClick:t},"+")),r.a.createElement("p",null,"\xd7",Number.isFinite(o)&&o),a&&r.a.createElement(G,{actions:a}))},K={hand:[],state:""},W={height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:15},z=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(f()),d=Object(u.a)(o,2),h=d[0],b=d[1],m=Object(a.useState)(K),y=Object(u.a)(m,2),v=y[0],k=y[1],p=Object(a.useState)([K]),N=Object(u.a)(p,2),x=N[0],S=N[1],M={players:x,dealer:v};Object(a.useEffect)(function(){(2!==x[0].hand.length||1!==v.hand.length)&&A()},[t]),Object(a.useEffect)(function(){C(M)&&J("stay"),x.forEach(function(e,n){return E(e)&&U(n)("stay")})},[x,v]);var A=function(){var e=D(2-x[0].hand.length,h,x[0].hand,R(0));D(1-v.hand.length,e,v.hand,H)},D=function(e,n,t,a){var r=n.slice(0,e),c=n.slice(e);return a(Object(l.a)(t).concat(Object(l.a)(r))),b(c),c},F=function(e){D(1,h,x[e].hand,R(e))},H=function(e){k(Object(i.a)({},v,{hand:e}))},J=function(e){k(Object(i.a)({},v,{state:e}))},R=function(e){return function(n){S(Object(s.set)(x,"".concat(e,".hand"),n))}},U=function(e){return function(n){S(Object(s.set)(x,"".concat(e,".state"),n))}},G=function(){var e={hand:[x[0].hand[0]],state:""};S([e,e])};return r.a.createElement("main",{style:W},r.a.createElement(B,{deck:h,hidden:!0}),r.a.createElement(I,Object.assign({},v,{draw:w(M)&&function(){D(1,h,v.hand,H)},isDealer:!0})),x.map(function(e,n){var t=function(){return F(n)},a=g(e)&&(!n||Number.isFinite(j({player:x[n-1],dealer:v}))),c=Object(i.a)({},e,{gameResult:j({player:e,dealer:v}),actions:[{color:"green",children:"H",disabled:!a,onClick:t},{color:"brown",children:"S",disabled:!a,onClick:function(){return U(n)("stay")}},{color:"blue",children:"D",disabled:!a,onClick:t},{color:"gray",children:"SU",disabled:!(1===x.length&&O(e)),onClick:function(){return U(n)("surrender")}},_(M)&&{color:"chocolate",children:"SP",onClick:G}]});return r.a.createElement(I,Object.assign({},c,{key:n}))}),r.a.createElement("button",{onClick:function(){b(f()),k(K),S([K]),c(Object(l.a)(t).concat([0]))}},"New Game"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},3:function(e,n,t){e.exports={container:"Hand_container__BrGZp",deck:"Hand_deck__XyDBj",totals:"Hand_totals__z3KUT"}},6:function(e,n,t){e.exports={card:"Card_card__2SUn6",back:"Card_back__4pROr"}}},[[12,2,1]]]);
//# sourceMappingURL=main.af84af5e.chunk.js.map