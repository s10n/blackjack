(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports={card:"Card_card__2SUn6",back:"Card_back__4pROr"}},19:function(e,t,n){e.exports={button:"Button_button__3pS3v"}},20:function(e,t,n){e.exports=n(36)},30:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"startGame",function(){return G}),n.d(r,"finishGame",function(){return I}),n.d(r,"resetGame",function(){return L}),n.d(r,"draw",function(){return U}),n.d(r,"set",function(){return H}),n.d(r,"double",function(){return J}),n.d(r,"split",function(){return P}),n.d(r,"bet",function(){return F});var a=n(0),c=n.n(a),l=n(14),i=n.n(l),u=n(2),o=n(5),s=n(1),d=n(17),f=n(4),p=["A","2","3","4","5","6","7","8","9","10","J","Q","K"].reduce(function(e,t){return Object(f.a)(e).concat(Object(f.a)(Array.from({length:4},function(e){return t})))},[]),y=function(){return function(e){for(var t,n,r=e.length;r;)n=Math.floor(Math.random()*r--),t=e[r],e[r]=e[n],e[n]=t;return e}(p)},h=function(e,t){return function(n,r){return r.player===t||void 0===n?e(n,r):n}},m=Object(s.c)({hand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"draw":case"hand":return t.hand;case"reset":return[];default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stay":case"bust":case"blackjack":case"surrender":return t.type;case"reset":return"";default:return e}},stake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bet":return e+t.stake;case"reset":return 0;default:return e}}}),b=Object(s.c)({dealer:h(m,"dealer"),primary:h(m,"primary"),replica:h(m,"replica")}),v=Object(s.c)({status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"idle";switch((arguments.length>1?arguments[1]:void 0).type){case"start":return"playing";case"stop":return"stop";case"reset":return"idle";default:return e}}}),g=Object(s.c)({deck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y();switch((arguments.length>1?arguments[1]:void 0).type){case"reset":return y();case"draw":return e.slice(1);default:return e}},players:b,coins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bet":return e-t.stake;case"win":return e+t.amount;default:return e}},game:v}),k=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,E={stake:0,hand:[],status:""},w={dealer:Object(o.a)({},E,{hand:[]}),primary:Object(o.a)({},E,{hand:[]})},O=Object(s.e)(g,{deck:void 0,players:w},k(Object(s.a)(d.a))),j=(n(30),function(e){return Number(e)||"A"===e&&1||10}),_=function(e){var t=e.reduce(function(e,t){return e+j(t)},0);return e.includes("A")&&t+10<=21?[t,t+10]:[t]},C=function(e,t){var n=e.dealer,r=e[t],a={blackjack:![1,10].includes(j(n.hand[0]))&&"BLACKJACK",bust:"LOSE",surrender:"SURRENDER"},c={blackjack:"blackjack"===r.status?"DRAW":"LOSE",bust:"WIN"};return a[r.status]||c[n.status]||("stay"===n.status?function(){var e=Math.max.apply(Math,Object(f.a)(_(r.hand))),t=Math.max.apply(Math,Object(f.a)(_(n.hand)));return e>t?"WIN":t>e?"LOSE":"DRAW"}():"")},S={BLACKJACK:2.5,WIN:2,DRAW:1,SURRENDER:.5,LOSE:0},x=function(e,t){var n=C(e,t);return e[t].stake*(S[n]||0)},B=C,D=function(e){return!e.status},K=function(e){var t=e.hand,n=e.status;return 2===t.length&&!n},N=function(e){var t=e.hand,n=e.status;return 2===t.length&&!n},A=function(e){var t=e.primary,n=e.replica,r=t.hand,a=t.status,c=!!n.hand.length;return 2===r.length&&r[0]===r[1]&&!a&&!c},R=function(e){var t=e.dealer,n=e.primary,r=e.replica,a=t.status,c=t.hand;return!a&&_(c).every(function(e){return e<=16})&&[n,r].filter(function(e){return e.hand.length}).every(function(e){return e.status})},M=function(e){var t=e.dealer;return!t.status&&_(t.hand).some(function(e){return e>=17})},W=function(e){return["primary","replica"].filter(function(t){return e[t].hand.length}).every(function(t){return B(e,t)})},G=function(){return function(e,t){var n=t().players;e({type:"start"}),Array.from({length:2-n.primary.hand.length}).forEach(function(){return e(U("primary"))}),!n.dealer.hand.length&&e(U("dealer"))}},I=function(){return function(e,t){e({type:"win",amount:function(e){return["primary","replica"].reduce(function(t,n){return t+x(e,n)},0)}(t().players)})}},L=function(){return function(e,t){e({type:"reset",player:"dealer"}),e({type:"reset",player:"primary"}),e({type:"reset",player:"replica"})}},U=function(e){return function(t,n){var r=n(),a=r.deck,c=r.players[e],l=a[0],i=Object(f.a)(c.hand).concat([l]);t({type:"draw",player:e,hand:i}),t(z(e))}},H=function(e,t){return function(n,r){n({type:t,player:e})}},J=function(e){return function(t,n){var r=n().players;t(F(e,r[e].stake)),t(H(e,"stay")),t(U(e))}},P=function(){return function(e,t){var n=t().players.primary,r=n.hand,a=n.stake,c=r[0];e({type:"hand",player:"primary",hand:[c]}),e({type:"hand",player:"replica",hand:[c]}),e({type:"bet",player:"replica",stake:a})}},z=function(e){return function(t,n){var r=function(e,t){var n=e[t].hand,r=_(n),a=r.some(function(e){return 21===e}),c=r.every(function(e){return e>21}),l=a&&2===n.length,i="dealer"===t&&M(e);return a?l?"blackjack":"stay":c?"bust":i?"stay":""}(n().players,e);r&&t(H(e,r))}},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return function(n,r){var a=r(),c=a.players,l=a.coins,i=(c[e].stake||0)+t;l>=t&&i>=5&&n({type:"bet",player:e,stake:t})}},T=n(8),X=n.n(T),Q=function(e){var t=e.title,n=e.children;return c.a.createElement("div",{className:X.a.box},c.a.createElement("h1",{className:X.a.title},t),c.a.createElement("p",{className:X.a.content},n))},V=Object(u.b)(function(e){return{coins:e.coins}})(function(e){var t=e.coins;return c.a.createElement(Q,{title:"\ubcf4\uc720"},String(t),"\ub9cc\uc6d0")}),Y=n(9),Z=n.n(Y),$=n(12),q=n.n($),ee=n(18),te=n.n(ee),ne=function(e){var t=e.back,n=e.children,r=e.style,a=void 0===r?{}:r,l=e.onClick;return c.a.createElement("div",{className:te()(q.a.card,t&&q.a.back),style:a,onClick:l},n)},re=Object(u.b)(function(e,t){var n=e.players,r=t.playerKey;return{result:B(n,r),prize:x(n,r)}})(function(e){var t=e.result,n=e.prize,r=n?"green":"red",a=n?n+"\ub9cc\uc6d0\uc744 \ubc1b\uc2b5\ub2c8\ub2e4.":"\ub3c8\uc744 \uc783\uc5c8\uc2b5\ub2c8\ub2e4.";return t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",{style:{color:r,fontSize:"200%",fontWeight:"bold"}},t),c.a.createElement("p",null,a))}),ae=n(6),ce=n(19),le=n.n(ce),ie=function(e){var t=e.color,n=e.children,r=Object(ae.a)(e,["color","children"]);return c.a.createElement("button",Object.assign({className:le.a.button,style:{backgroundColor:r.disabled?"silver":t}},r),n)},ue=Object(u.b)(function(e,t){var n=e.players,r=e.game,a=e.coins,c=t.playerKey,l=n[c],i="replica"!==c||!!n.primary.status;return{players:n,game:r,stake:l.stake,canBet:a>=5,canMinus:l.stake>5,canPlay:!!l.stake,canDraw:i&&D(l),canSplit:i&&A(n),canDouble:i&&K(l),canSurrender:i&&!n.replica.hand.length&&N(l)}},function(e){return Object(s.b)(r,e)})(function(e){e.players;var t=e.game,n=e.playerKey,r=(e.stake,Object(ae.a)(e,["players","game","playerKey","stake"])),a=r.canBet,l=r.canMinus,i=r.canPlay,u=r.canDraw,o=r.canDouble,s=r.canSurrender,d={idle:[{color:"green",children:"+",disabled:!a,onClick:function(){return r.bet(n,5)}},{color:"brown",children:"-",disabled:!l,onClick:function(){return r.bet(n,-5)}},{color:"navy",children:"\u2192",disabled:!i,onClick:function(){return r.startGame()}}],playing:[{color:"green",children:"H",disabled:!u,onClick:function(){return r.draw(n)}},{color:"brown",children:"S",disabled:!u,onClick:function(){return r.set(n,"stay")}},{color:"navy",children:"D",disabled:!o,onClick:function(){return r.double(n)}},r.canSplit&&{color:"olive",children:"SP",onClick:function(){return r.split()}},s&&{color:"teal",children:"SU",onClick:function(){return r.set(n,"surrender")}}].filter(Boolean)}[t.status]||[];return c.a.createElement("section",null,d.map(function(e,t){return c.a.createElement(ie,Object.assign({},e,{key:t}))}))}),oe=Object(u.b)(function(e,t){var n=e.players,r=(e.game,t.playerKey),a=n[r],c="dealer"===r;return Object(o.a)({},a,{isDealer:c,totals:_(a.hand),canDraw:c&&!W(n)&&R(n)})},function(e){return Object(s.b)(r,e)})(function(e){var t=e.playerKey,n=e.hand,r=e.stake,a=e.totals,l=e.status,i=e.canDraw,u=e.draw,o=e.isDealer;return c.a.createElement("div",{className:Z.a.container},c.a.createElement("p",{style:{order:o&&2}},l),c.a.createElement("section",{className:Z.a.totals,style:{order:o&&1}},a.filter(Boolean).join(", ")),c.a.createElement("ul",{className:Z.a.deck},n.map(function(e,t){return c.a.createElement(ne,{key:t},e)}),i&&c.a.createElement(ne,{back:!0,onClick:function(){return u(t)}},"+")),!o&&c.a.createElement(c.a.Fragment,null,c.a.createElement(Q,{title:"\ubca0\ud305"},r,"\ub9cc\uc6d0"),c.a.createElement(re,{playerKey:t}),c.a.createElement(ue,{playerKey:t})))}),se={display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",height:"100%",lineHeight:1.6,padding:15,textAlign:"center",players:{display:"flex",justifyContent:"space-around",alignItems:"flex-end",alignSelf:"stretch"}},de=Object(u.b)(function(e){var t=e.players;return{showFinishButton:"idle"!==e.game.status&&W(t),playersKeys:[t.replica.hand.length&&"replica","primary"].filter(Boolean)}},function(e){return Object(s.b)(r,e)})(function(e){var t=e.playersKeys,n=e.showFinishButton,r=e.finishGame,a=e.resetGame;return c.a.createElement("main",{style:se},c.a.createElement(oe,{playerKey:"dealer"}),c.a.createElement("div",{style:t.length>1?se.players:{}},t.map(function(e){return c.a.createElement(oe,{playerKey:e,key:e})})),n&&c.a.createElement(ie,{color:"navy",onClick:function(){r(),a()}},"\u2714\ufe0e"),c.a.createElement(V,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(u.a,{store:O},c.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){e.exports={box:"Box_box__1BfmP",title:"Box_title__2gOYC",content:"Box_content__3UwtR"}},9:function(e,t,n){e.exports={container:"Hand_container__BrGZp",deck:"Hand_deck__XyDBj",totals:"Hand_totals__z3KUT"}}},[[20,2,1]]]);
//# sourceMappingURL=main.242a3e54.chunk.js.map