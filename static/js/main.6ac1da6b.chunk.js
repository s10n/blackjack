(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports={card:"Card_card__2SUn6",back:"Card_back__4pROr"}},13:function(e,t,n){e.exports={deck:"Hand_deck__XyDBj",status:"Hand_status__2R6kL"}},22:function(e,t,n){e.exports={group:"ButtonGroup_group__dsw-Y"}},23:function(e,t,n){e.exports={button:"Button_button__3pS3v"}},24:function(e,t,n){e.exports={number:"Number_number__1m7yW"}},25:function(e,t,n){e.exports={bank:"Bank_bank__8O_md"}},30:function(e,t,n){e.exports=n(51)},40:function(e,t,n){},5:function(e,t,n){e.exports={table:"Table_table__35IOq",dealer:"Table_dealer__GibhA",players:"Table_players__2oEjN",duplicated:"Table_duplicated__BfAIy",actions:"Table_actions__1P3XS",footer:"Table_footer__1yKkN",capital:"Table_capital__1Mggl"}},51:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"startGame",function(){return G}),n.d(a,"resetGame",function(){return I}),n.d(a,"bet",function(){return M}),n.d(a,"win",function(){return J}),n.d(a,"lend",function(){return U}),n.d(a,"payback",function(){return H}),n.d(a,"draw",function(){return X}),n.d(a,"set",function(){return z}),n.d(a,"double",function(){return Q}),n.d(a,"split",function(){return q});var r=n(0),c=n.n(r),i=n(15),l=n.n(i),o=n(2),u=n(1),s=n(18),d=n(3),f=["A",2,3,4,5,6,7,8,9,10,"J","Q","K"],p=function(e,t){return Object(d.a)(e).concat(Object(d.a)(t))},h=[5,10,25,50,100],b=function(){return function(e){for(var t,n,a=e.length;a;)n=Math.floor(Math.random()*a--),t=e[a],e[a]=e[n],e[n]=t;return e}(function(e){return Array.from({length:4*e},function(){return f}).reduce(p,[])}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:4))},m=function(e,t){return function(n,a){return a.player===t||void 0===n?e(n,a):n}},y=Object(u.c)({hand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"draw":case"hand":return t.hand;case"reset":return[];default:return e}},status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"stay":case"bust":case"blackjack":case"surrender":return t.type;case"reset":return"";default:return e}},stake:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bet":return e+t.stake;case"reset":return 0;default:return e}}}),v=Object(u.c)({dealer:m(y,"dealer"),primary:m(y,"primary"),replica:m(y,"replica")}),k=Object(u.c)({isPlaying:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"start":return!0;case"reset":return!1;default:return e}}}),g=Object(u.c)({deck:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b();switch((arguments.length>1?arguments[1]:void 0).type){case"reset":return b();case"draw":return e.slice(1);default:return e}},players:v,chips:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"bet":return e-t.stake;case"win":return e+t.amount;case"lend":return e+100;case"payback":return e-100;default:return e}},debt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch((arguments.length>1?arguments[1]:void 0).type){case"lend":return e+100;case"payback":return e-100;default:return e}},game:k,history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"record":return Object(d.a)(e).concat([t.payload]);default:return e}}}),_=b(),E={hasAce:["A"],split:["A","A"],das:[8,8,6,3,2],autoStay:[9,5,7,7],dealerBust:["K","K","K","6","Q"],dealerBlackjack:[9,5,"A",7,"K"],blackjack:["A","K",6],blackjackWin:["A","K","A",2],blackjackDraw:["A","K","K","A"],blackjackAfterSplit:["A","A","A","K","K",9],dealerBustAfterBlackjackAfterSplit:["A","A","J",9,"A","Q",3,10]},j=(E[""]?{deck:Object(d.a)(E[""]).concat(Object(d.a)(_))}:void 0)||function(){try{var e=localStorage.getItem("state");return JSON.parse(e)||void 0}catch(t){return}}(),w=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d)(Object(u.a)(s.a)),O=Object(u.e)(g,j,w);O.subscribe(function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(n){}}(O.getState())});var A=O,N=(n(40),function(e){return Number(e)||"A"===e&&1||10}),S=function(e){var t=e.reduce(function(e,t){return e+N(t)},0);return e.includes("A")&&t+10<=21?[t,t+10]:[t]},C=function(e,t){var n=e.dealer,a=e[t],r={blackjack:function(e){var t=e.hand,a={1:![1,10].includes(N(n.hand[0])),2:"blackjack"!==n.status}[t.length];return"boolean"!==typeof a||a}(n)&&"BLACKJACK",bust:"LOSE",surrender:"SURRENDER"},c={blackjack:"blackjack"===a.status?"DRAW":"LOSE",bust:"WIN"};return r[a.status]||c[n.status]||("stay"===n.status?function(){var e=Math.max.apply(Math,Object(d.a)(S(a.hand))),t=Math.max.apply(Math,Object(d.a)(S(n.hand)));return e>t?"WIN":t>e?"LOSE":"DRAW"}():"")},K={BLACKJACK:2.5,WIN:2,DRAW:1,SURRENDER:.5,LOSE:0},x=function(e){return["primary","replica"].reduce(function(t,n){return t+function(e,t){var n=C(e,t);return e[t].stake*(K[n]||0)}(e,n)},0)},B=C,D=function(e){var t=e.hand,n=e.status;return 2===t.length&&!n},R=function(e){var t=e.primary;return e.replica.hand.length&&t.status?"replica":"primary"},P=function(e){var t=e.players,n=e.chips,a=t.primary,r=!!t.replica.hand.length;return D(a)&&n>=a.stake&&a.hand[0]===a.hand[1]&&!r},W=function(e){var t=e.dealer,n=e.primary,a=e.replica,r=t.status,c=t.hand;return!r&&S(c).every(function(e){return e<=16})&&[n,a].filter(function(e){return e.hand.length}).every(function(e){return e.status})},T=function(e){var t=e.dealer;return!t.status&&S(t.hand).some(function(e){return e>=17})},L=function(e){return["primary","replica"].filter(function(t){return e[t].hand.length}).every(function(t){return B(e,t)})},G=function(){return function(e,t){var n=t().players;e({type:"start"}),Array.from({length:2-n.primary.hand.length}).forEach(function(){return e(X("primary"))}),!n.dealer.hand.length&&e(X("dealer"))}},I=function(){return function(e,t){var n=t();e({type:"record",payload:{players:n.players,chips:n.chips,debt:n.debt}}),e({type:"reset",player:"dealer"}),e({type:"reset",player:"primary"}),e({type:"reset",player:"replica"})}},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return function(n,a){a().chips>=t&&n({type:"bet",player:e,stake:t})}},J=function(){return function(e,t){var n=t().players;e({type:"win",amount:x(n)})}},U=function(){return{type:"lend"}},H=function(){return{type:"payback"}},X=function(e){return function(t,n){var a=n(),r=a.deck,c=a.players[e],i=r[0],l=Object(d.a)(c.hand).concat([i]);t({type:"draw",player:e,hand:l}),t(V(e))}},z=function(e,t){return function(n,a){n({type:t,player:e})}},Q=function(e){return function(t,n){var a=n().players;t(M(e,a[e].stake)),t(z(e,"stay")),t(X(e))}},q=function(){return function(e,t){var n=t().players.primary,a=n.hand,r=n.stake,c=a[0];e({type:"hand",player:"primary",hand:[c]}),e({type:"hand",player:"replica",hand:[c]}),e({type:"bet",player:"replica",stake:r})}},V=function(e){return function(t,n){var a=function(e,t){var n=e[t].hand,a=S(n),r=a.some(function(e){return 21===e}),c=a.every(function(e){return e>21}),i=r&&2===n.length,l="dealer"===t&&T(e);return r?i?"blackjack":"stay":c?"bust":l?"stay":""}(n().players,e);a&&t(z(e,a))}},Y=n(6),$=n.n(Y),F=n(5),Z=n.n(F),ee=function(e){var t=e.dealer,n=e.primary,a=e.replica,r=e.chips,i=e.bank,l=e.actions,o=e.controls;return c.a.createElement("main",{className:Z.a.table},c.a.createElement("section",{className:Z.a.dealer},t),c.a.createElement("section",{className:$()(Z.a.players,a&&Z.a.duplicated)},a&&c.a.createElement("section",null,a),c.a.createElement("section",null,n)),c.a.createElement("section",{className:Z.a.actions},l),c.a.createElement("footer",{className:Z.a.footer},c.a.createElement("section",{className:Z.a.capital},r,i),c.a.createElement("section",{className:Z.a.controls},o)))},te=n(27),ne=n(19),ae=n(20),re=n(26),ce=n(21),ie=n(28),le=function(e){function t(){var e,n;Object(ne.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(re.a)(this,(e=Object(ce.a)(t)).call.apply(e,[this].concat(r)))).state={count:0},n.increase=function(){n.setState(function(e){return{count:e.count+1}})},n}return Object(ie.a)(t,e),Object(ae.a)(t,[{key:"componentDidUpdate",value:function(){10===this.state.count&&function(){try{localStorage.removeItem("state")}catch(e){}}()}},{key:"render",value:function(){var e=this.state.count>=10;return this.props.render({hasRemoved:e,increase:e?void 0:this.increase})}}]),t}(r.Component),oe=["\ub51c\ub7ec\uc758 \ucc28\ub840\uac00 \ub418\uba74 \uc544\ub798\uc758 \ud654\uc0b4\ud45c \ubc84\ud2bc\uc73c\ub85c \ub51c\ub7ec\uc758 \uce74\ub4dc\ub97c \ubf51\uc73c\uc2ed\uc2dc\uc624.","\uce69\uc744 \ubaa8\ub450 \uc783\uc5c8\uc744 \ub54c \uce69 \uc0c1\uc790\ub97c \ud074\ub9ad\ud558\uba74, \uce69 ".concat(100,"\uc744 \ube4c\ub9bd\ub2c8\ub2e4."),"\uce69\uc774 \ucda9\ubd84\ud560 \ub54c \ube5a \uc601\uc5ed\uc744 \ub204\ub974\uba74 \uac1a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","4\uac1c\uc758 \ub371\uc744 \uc0ac\uc6a9\ud558\uba70, \uac8c\uc784\uc744 \uc0c8\ub85c \uc2dc\uc791\ud560 \ub54c\ub9c8\ub2e4 \ub371\uc744 \uc11e\uc2b5\ub2c8\ub2e4.","\uc778\uc288\uc5b4\ub7f0\uc2a4\uc640 \uc2a4\ud50c\ub9bf \ud6c4 \uc2a4\ud50c\ub9bf\uc740 \ud5c8\uc6a9\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."],ue=[{href:"https://instagram.com/simcheolhwan",label:"\uc81c\uc791: \uc2ec\ucca0\ud658"},{href:"https://github.com/s10n/blackjack",label:"\uc18c\uc2a4\ucf54\ub4dc \ubcf4\uae30"}],se={fontSize:10,fontWeight:"normal",lineHeight:1.5,textAlign:"left",title:{fontSize:"2em"},footer:{textAlign:"right",marginTop:5},a:{textDecoration:"none",marginLeft:5}},de=function(){return c.a.createElement(le,{render:function(e){var t=e.increase,n=e.hasRemoved;return c.a.createElement("article",{style:se},c.a.createElement("header",{style:se.header},c.a.createElement("h1",{style:Object(te.a)({},se.title,{textDecoration:n&&"line-through"}),onClick:t},"BLACKJACK")),c.a.createElement("ul",{style:se.description},oe.map(function(e,t){return c.a.createElement("li",{key:t},e)})),c.a.createElement("footer",{style:se.footer},ue.map(function(e){var t=e.href,n=e.label;return c.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer",style:se.a,key:n},n," \u2197\ufe0e")})))}})},fe=n(7),pe=n.n(fe),he=function(e){var t=e.result,n=e.hand,a=e.bet,r=(e.actions,e.isDealer),i=e.active,l=e.small;return c.a.createElement("article",{className:$()(pe.a.player,i&&pe.a.active)},!r&&c.a.createElement("section",{className:$()(pe.a.result,l&&pe.a.small)},t),c.a.createElement("section",{className:pe.a.hand},n),!r&&c.a.createElement("section",{className:pe.a.bet},a))},be=n(9),me=n.n(be),ye=function(e){e.title,e.footer;var t=e.children,n=e.onClick;return c.a.createElement("div",{className:$()(me.a.box,n&&me.a.clickable),onClick:n},c.a.createElement("div",{className:me.a.content},t))},ve=n(12),ke=n.n(ve),ge=function(e){var t=e.back,n=e.children;return c.a.createElement("div",{className:ke.a.card},c.a.createElement("div",{className:t&&ke.a.back},n))},_e=n(13),Ee=n.n(_e),je=function(e){var t=e.hand,n=e.status,a=e.canDraw;return c.a.createElement("article",null,c.a.createElement("p",{className:Ee.a.status},n),c.a.createElement("ul",{className:Ee.a.deck},t.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(ge,null,e))}),a&&c.a.createElement("li",null,c.a.createElement(ge,{back:!0},"+"))))},we=Object(o.b)(function(e,t){var n=e.players,a=t.playerKey,r=n[a],c=r.hand,i=r.status;return{hand:c,status:Oe([Oe(S(c),", "),i]),canDraw:"dealer"===a&&!L(n)&&W(n)}})(je),Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return e.filter(Boolean).join(t)},Ae=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t,n){var a=e.players,r=e.game,i=t.bet,l=n.playerKey,o=a[l].stake,u="dealer"===l,s=o&&!r.isPlaying?function(){return i(l,-1*o)}:void 0;return{result:B(a,l),hand:c.a.createElement(we,{playerKey:l}),bet:c.a.createElement(ye,{onClick:s},o),isDealer:u,small:!!a.replica.hand.length,active:u||R(a)===l||!!a.replica.status}})(he),Ne="#0074d9",Se="#001f3f",Ce="#39cccc",Ke="#3d9970",xe="#85144b",Be="#ff851b",De=n(22),Re=n.n(De),Pe=n(29),We=n(23),Te=n.n(We),Le=function(e){var t=e.color,n=e.children,a=Object(Pe.a)(e,["color","children"]);return c.a.createElement("button",Object.assign({className:Te.a.button,style:{color:t}},a),n)},Ge=[Ce,Be,Ke,xe,Ne],Ie=function(e){var t=e.buttons;return c.a.createElement("ul",{className:Re.a.group},t.map(function(e,t){return c.a.createElement("li",{key:t},c.a.createElement(Le,Object.assign({color:Ge[t]},e)))}))},Me=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t,n){var a=e.players,r=e.chips,c=e.game,i=t.bet,l=(t.startGame,t.draw),o=t.set,u=t.double,s=t.split,d=n.playerKey,f=a[d];return{buttons:c.isPlaying?[{children:"SU",disabled:!(D(f)&&!a.replica.hand.length),onClick:function(){return o(d,"surrender")}},{children:"SP",disabled:!P({players:a,chips:r}),onClick:function(){return s()}},{children:"D",disabled:!(D(f)&&r>=f.stake),onClick:function(){return u(d)}},{children:"S",disabled:!!f.status,onClick:function(){return o(d,"stay")}},{children:"H",disabled:!!f.status,onClick:function(){return l(d)}}]:h.map(function(e){return{children:String(e),disabled:r<e,onClick:function(){return i(d,e)}}})}})(Ie),Je=n(24),Ue=n.n(Je),He=function(e){var t=e.children,n=Math.floor(t),a=t-n;return c.a.createElement("div",{className:Ue.a.number},c.a.createElement("span",null,String(n)),!!a&&c.a.createElement("small",null,String(a).slice(1)))},Xe=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t){var n=e.chips,a=e.players,r=e.game,i=t.lend,l=!r.isPlaying&&n+a.primary.stake<5;return{children:c.a.createElement(He,null,n),onClick:l?function(){return i()}:void 0}})(ye),ze=n(25),Qe=n.n(ze),qe=function(e){var t=e.debt,n=e.onClick;return t?c.a.createElement("button",{className:Qe.a.bank,disabled:!n,onClick:n},"DEBT ",t):null},Ve=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t){var n=e.chips,a=e.debt,r=t.payback;return{debt:a,onClick:a&&n>100?r:void 0}})(qe),Ye=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t){var n=e.players,a=e.game,r=t.startGame,c=t.resetGame,i=t.win,l=t.draw,o=n.primary;return{buttons:a.isPlaying?L(n)?[{color:Se,children:"\u2713",onClick:function(){i(),c()}},{color:Se,disabled:!0,children:"\u2192"}]:[{color:Se,children:"\u2192",disabled:!W(n),onClick:function(){return l("dealer")}}]:[{color:Se,children:"\u2192",disabled:!o.stake,onClick:r}]}})(Ie),$e=Object(o.b)(function(e){return e},function(e){return Object(u.b)(a,e)},function(e,t){var n=e.players,a=e.game;t.startGame,t.resetGame,t.win,t.draw;return{dealer:a.isPlaying?c.a.createElement(Ae,{playerKey:"dealer"}):c.a.createElement(de,null),primary:c.a.createElement(Ae,{playerKey:"primary"}),replica:!!n.replica.hand.length&&c.a.createElement(Ae,{playerKey:"replica"}),actions:c.a.createElement(Me,{playerKey:R(n)}),chips:c.a.createElement(Xe,null),bank:c.a.createElement(Ve,null),controls:c.a.createElement(Ye,null)}})(ee),Fe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ze(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(c.a.createElement(o.a,{store:A},c.a.createElement($e,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/blackjack",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/blackjack","/service-worker.js");Fe?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Ze(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):Ze(t,e)})}}()},7:function(e,t,n){e.exports={player:"Player_player__Mn0zg",hand:"Player_hand__3Bbyi",active:"Player_active__2i-vG",result:"Player_result__19rWb",small:"Player_small__2cAvH"}},9:function(e,t,n){e.exports={box:"Box_box__1BfmP",clickable:"Box_clickable__3ffR7"}}},[[30,2,1]]]);
//# sourceMappingURL=main.6ac1da6b.chunk.js.map