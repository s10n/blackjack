(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,n,t){e.exports={button:"Button_button__3pS3v"}},12:function(e,n,t){e.exports=t(22)},17:function(e,n,t){},2:function(e,n,t){e.exports={container:"Hand_container__BrGZp",deck:"Hand_deck__XyDBj",totals:"Hand_totals__z3KUT"}},22:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(8),o=t.n(c),i=(t(17),t(4)),l=t(1),u=t(3),s=t(5),d=["A","2","3","4","5","6","7","8","9","10","J","Q","K"].reduce(function(e,n){return Object(l.a)(e).concat(Object(l.a)(Array.from({length:4},function(e){return n})))},[]),f=function(){return function(e){for(var n,t,a=e.length;a;)t=Math.floor(Math.random()*a--),n=e[a],e[a]=e[t],e[t]=n;return e}(d)},h=function(e){return Number(e)||"A"===e&&1||10},b=function(e){var n=e.reduce(function(e,n){return e+h(n)},0);return e.includes("A")&&n+10<=21?[n,n+10]:[n]},m=function(e){return 2===e.length&&b(e).some(function(e){return 21===e})},y=function(e){var n=b(e).every(function(e){return e>21});return m(e)?"blackjack":n?"bust":""},v=function(e){var n=e.player,t=e.dealer,a=2,r=1,c=0,o=b(n.hand),i=y(n.hand),u=b(t.hand),s=y(t.hand),d={blackjack:("A"!==t.hand[0]||2===t.hand.length&&"blackjack"!==s)&&1.5,bust:c},f={blackjack:c,bust:a};return Number.isFinite(d[i])?d[i]:Number.isFinite(f[s])?f[s]:"stay"===t.state?function(){var e=Math.max.apply(Math,Object(l.a)(o)),n=Math.max.apply(Math,Object(l.a)(u));return e>n?a:n<e?r:c}():"surrender"===n.state?.5:NaN},k=b,p=y,g=v,j=function(e){var n=e.hand,t=e.state;return!y(n)&&!t},E=function(e){var n=e.hand,t=e.state;return 2===n.length&&!t},O=function(e){var n=e.hand;return m(n)},_=function(e){var n=e.players;return 2===n[0].hand.length&&n[0].hand[0]===n[0].hand[1]&&!n[0].state&&1===n.length},w=function(e){var n=e.dealer;return e.players.every(function(e){return"stay"===e.state})&&b(n.hand).every(function(e){return e<=16})&&"stay"!==n.state},C=function(e){var n=e.dealer,t=e.players;return b(n.hand).some(function(e){return e>=17})||t.every(function(e){return Number.isFinite(v({player:e,dealer:n}))})},N=t(6),x=t.n(N),S=t(9),M=t.n(S),A=function(e){var n=e.back,t=e.children,a=e.style,c=void 0===a?{}:a,o=e.onClick;return r.a.createElement("div",{className:M()(x.a.card,n&&x.a.back),style:c,onClick:o},t)},B=function(e){var n=e.deck;return e.hidden?null:r.a.createElement("ul",{style:{display:"flex",alignItems:"flex-end"}},n.map(function(e,n){return r.a.createElement("div",{style:{padding:1},key:n},r.a.createElement("div",{style:{height:5*h(e),backgroundColor:"silver"}}),r.a.createElement(A,null,e))}))},D=t(2),F=t.n(D),H=t(11),J=t(10),R=t.n(J),U=function(e){var n=e.color,t=e.children,a=Object(H.a)(e,["color","children"]);return r.a.createElement("button",Object.assign({className:R.a.button,style:{backgroundColor:a.disabled?"silver":n}},a),t)},I=function(e){var n=e.actions;return r.a.createElement("section",null,n.map(function(e,n){return e&&r.a.createElement(U,Object.assign({},e,{key:n}))}))},K=function(e){var n=e.hand,t=e.draw,a=e.actions,c=e.isDealer,o=e.gameResult;return r.a.createElement("div",{className:F.a.container},r.a.createElement("p",{style:{order:c&&2}},p(n)),r.a.createElement("section",{className:F.a.totals,style:{order:c&&1}},k(n).join(", ")),r.a.createElement("ul",{className:F.a.deck},n.map(function(e,n){return r.a.createElement(A,{key:n},e)}),t&&r.a.createElement(A,{back:!0,onClick:t},"+")),r.a.createElement("p",null,"\xd7",Number.isFinite(o)&&o),a&&r.a.createElement(I,{actions:a}))},W={height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",padding:15},z=function(){var e=Object(a.useState)(f()),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)({hand:[],state:""}),d=Object(u.a)(o,2),h=d[0],b=d[1],m=Object(a.useState)([{hand:[],state:""}]),y=Object(u.a)(m,2),v=y[0],k=y[1],p={players:v,dealer:h};Object(a.useEffect)(function(){(2!==v[0].hand.length||1!==h.hand.length)&&N()},[]),Object(a.useEffect)(function(){C(p)&&A("stay"),v.forEach(function(e,n){return O(e)&&F(n)("stay")})},[v,h]);var N=function(){var e=x(2-v[0].hand.length,t,v[0].hand,D(0));x(1-h.hand.length,e,h.hand,M)},x=function(e,n,t,a){var r=n.slice(0,e),o=n.slice(e);return a(Object(l.a)(t).concat(Object(l.a)(r))),c(o),o},S=function(e){x(1,t,v[e].hand,D(e))},M=function(e){b(Object(i.a)({},h,{hand:e}))},A=function(e){b(Object(i.a)({},h,{state:e}))},D=function(e){return function(n){k(Object(s.set)(v,"".concat(e,".hand"),n))}},F=function(e){return function(n){k(Object(s.set)(v,"".concat(e,".state"),n))}},H=function(){var e={hand:[v[0].hand[0]],state:""};k([e,e])};return r.a.createElement("main",{style:W},r.a.createElement(B,{deck:t,hidden:!0}),r.a.createElement(K,Object.assign({},h,{draw:w(p)&&function(){x(1,t,h.hand,M)},isDealer:!0})),v.map(function(e,n){var t=function(){return S(n)},a=j(e)&&(!n||Number.isFinite(g({player:v[n-1],dealer:h}))),c=Object(i.a)({},e,{gameResult:g({player:e,dealer:h}),actions:[{color:"green",children:"H",disabled:!a,onClick:t},{color:"brown",children:"S",disabled:!a,onClick:function(){return F(n)("stay")}},{color:"blue",children:"D",disabled:!a,onClick:t},{color:"gray",children:"SU",disabled:!(1===v.length&&E(e)),onClick:function(){return F(n)("surrender")}},_(p)&&{color:"chocolate",children:"SP",onClick:H}]});return r.a.createElement(K,Object.assign({},c,{key:n}))}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},6:function(e,n,t){e.exports={card:"Card_card__2SUn6",back:"Card_back__4pROr"}}},[[12,2,1]]]);
//# sourceMappingURL=main.c414bc91.chunk.js.map